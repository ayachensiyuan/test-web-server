{
  "basic": {
    "author": "v-ivanchen@microsoft.com",
    "title": "test cli add function...",
    "reportId": "01"
  },
  "git": {
    "orginazation": "OfficeDev",
    "repository": "Teamsfx",
    "commit": "73b25620346e23f8f98788c937e69f329df41223",
    "author": "v-ivanchen@microsoft.com",
    "branch": "dev",
    "date": "2022-01-01"
  },
  "mochawesome": {
    "stats": {
      "suites": 1,
      "tests": 1,
      "passes": 0,
      "pending": 0,
      "failures": 1,
      "start": "2022-08-26T00:18:35.452Z",
      "end": "2022-08-26T00:27:36.025Z",
      "duration": 540573,
      "testsRegistered": 1,
      "passPercent": 0,
      "pendingPercent": 0,
      "other": 0,
      "hasOther": false,
      "skipped": 0,
      "hasSkipped": false
    },
    "results": [
      {
        "uuid": "e8c28892-779f-4353-97de-1bec1673e62e",
        "title": "",
        "fullFile": "",
        "file": "",
        "beforeHooks": [],
        "afterHooks": [],
        "tests": [],
        "suites": [
          {
            "uuid": "4fc6e80d-02f8-4b1d-81e4-b2e57cfab5e2",
            "title": "Configuration successfully changed when with different plugins (V3)",
            "fullFile": "/home/runner/work/TeamsFx/TeamsFx/packages/cli/tests/e2e/apim/BotAddApim.v3.tests.ts",
            "file": "/apim/BotAddApim.v3.tests.ts",
            "beforeHooks": [
              {
                "title": "\"before each\" hook in \"Configuration successfully changed when with different plugins (V3)\"",
                "fullTitle": "Configuration successfully changed when with different plugins (V3) \"before each\" hook in \"Configuration successfully changed when with different plugins (V3)\"",
                "timedOut": false,
                "duration": 2,
                "state": null,
                "speed": null,
                "pass": false,
                "fail": false,
                "pending": false,
                "context": null,
                "code": "__awaiter(this, void 0, void 0, function* () {\n        mockedEnvRestore = mocked_env_1.default({\n            TEAMSFX_APIV3: \"true\",\n        });\n    })",
                "err": {},
                "uuid": "be19cc5e-422e-43db-a7ad-8b7786854d04",
                "parentUUID": "4fc6e80d-02f8-4b1d-81e4-b2e57cfab5e2",
                "isHook": true,
                "skipped": false
              }
            ],
            "afterHooks": [
              {
                "title": "\"after each\" hook in \"Configuration successfully changed when with different plugins (V3)\"",
                "fullTitle": "Configuration successfully changed when with different plugins (V3) \"after each\" hook in \"Configuration successfully changed when with different plugins (V3)\"",
                "timedOut": false,
                "duration": 16102,
                "state": null,
                "speed": null,
                "pass": false,
                "fail": false,
                "pending": false,
                "context": null,
                "code": "__awaiter(this, void 0, void 0, function* () {\n        mockedEnvRestore();\n        yield commonUtils_1.cleanUp(appName, projectPath, true, true, true);\n    })",
                "err": {},
                "uuid": "d51bcec0-65d0-49f8-893b-319400263d2d",
                "parentUUID": "4fc6e80d-02f8-4b1d-81e4-b2e57cfab5e2",
                "isHook": true,
                "skipped": false
              }
            ],
            "tests": [
              {
                "title": "bot + apim",
                "fullTitle": "Configuration successfully changed when with different plugins (V3) bot + apim",
                "timedOut": false,
                "duration": 524464,
                "state": "failed",
                "speed": null,
                "pass": false,
                "fail": true,
                "pending": false,
                "context": null,
                "code": "return __awaiter(this, void 0, void 0, function* () {\n    yield cliHelper_1.CliHelper.createProjectWithCapability(appName, testFolder, constants_1.Capability.Bot);\n    yield commonlib_1.ApimValidator.init(subscription, azureLogin_1.default, m365Login_1.default);\n    yield cliHelper_1.CliHelper.addResourceToProject(projectPath, constants_1.Resource.AzureApim);\n    // Provision\n    yield commonUtils_1.setBotSkuNameToB1Bicep(projectPath, env);\n    yield cliHelper_1.CliHelper.setSubscription(subscription, projectPath);\n    yield cliHelper_1.CliHelper.provisionProject(projectPath);\n    // Validate Provision\n    const context = yield commonUtils_1.readContextMultiEnv(projectPath, env);\n    yield commonlib_1.ApimValidator.validateProvision(context);\n});",
                "err": {
                  "message": "Error: Command failed: teamsfx provision \n(node:3558) UnhandledPromiseRejectionWarning: Error: Long running operation failed with error: \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\".\n    at new RestError (/opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/@microsoft/teamsfx-cli/lib/index.js:2:10133100)\n    at AzureAsyncOperationLROPollStrategy.LROPollStrategy.getRestError (/opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/@microsoft/teamsfx-cli/lib/index.js:2:10061929)\n    at /opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/@microsoft/teamsfx-cli/lib/index.js:2:10076982\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:3558) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 5)\n(node:3558) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:3558) PromiseRejectionHandledWarning: Promise rejection was handled asynchronously (rejection id: 5)\n(✖) [Solution.FailedToDeployArmTemplatesToAzure]: [Teams Toolkit] Failed to deploy ARM templates. Resource group name: fx_e_2_e_166147311544834-dev-rg. Deployment name: teams_toolkit_deployment\nError message: Long running operation failed with error: \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\".\nDetailed message: \n{\n  \"provisionResources\": {\n    \"azureWebAppBotProvision\": {\n      \"code\": \"InvalidTemplateDeployment\",\n      \"message\": \"The template deployment 'azureWebAppBotProvision' is not valid according to the validation procedure. The tracking id is 'bbd85e59-7e06-479c-83cc-ce6a8e738c1c'. See inner errors for details.\",\n      \"details\": [\n        {\n          \"message\": \"Object reference not set to an instance of an object.\"\n        }\n      ]\n    },\n    \"azureFunctionApiProvision\": {\n      \"code\": \"InvalidTemplateDeployment\",\n      \"message\": \"The template deployment 'azureFunctionApiProvision' is not valid according to the validation procedure. The tracking id is '80691faa-7c46-4bcc-9c02-4a1a7f7ea12d'. See inner errors for details.\",\n      \"details\": [\n        {\n          \"message\": \"Object reference not set to an instance of an object.\"\n        }\n      ]\n    }\n  }\n}\nGet toolkit help from https://aka.ms/teamsfx-arm-help.\n(✖) Get help from https://aka.ms/teamsfx-arm-help#SolutionFailedToDeployArmTemplatesToAzure\n",
                  "estack": "Error: Command failed: teamsfx provision \n(node:3558) UnhandledPromiseRejectionWarning: Error: Long running operation failed with error: \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\".\n    at new RestError (/opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/@microsoft/teamsfx-cli/lib/index.js:2:10133100)\n    at AzureAsyncOperationLROPollStrategy.LROPollStrategy.getRestError (/opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/@microsoft/teamsfx-cli/lib/index.js:2:10061929)\n    at /opt/hostedtoolcache/node/14.20.0/x64/lib/node_modules/@microsoft/teamsfx-cli/lib/index.js:2:10076982\n    at processTicksAndRejections (internal/process/task_queues.js:95:5)\n(Use `node --trace-warnings ...` to show where the warning was created)\n(node:3558) UnhandledPromiseRejectionWarning: Unhandled promise rejection. This error originated either by throwing inside of an async function without a catch block, or by rejecting a promise which was not handled with .catch(). To terminate the node process on unhandled promise rejection, use the CLI flag `--unhandled-rejections=strict` (see https://nodejs.org/api/cli.html#cli_unhandled_rejections_mode). (rejection id: 5)\n(node:3558) [DEP0018] DeprecationWarning: Unhandled promise rejections are deprecated. In the future, promise rejections that are not handled will terminate the Node.js process with a non-zero exit code.\n(node:3558) PromiseRejectionHandledWarning: Promise rejection was handled asynchronously (rejection id: 5)\n(✖) [Solution.FailedToDeployArmTemplatesToAzure]: [Teams Toolkit] Failed to deploy ARM templates. Resource group name: fx_e_2_e_166147311544834-dev-rg. Deployment name: teams_toolkit_deployment\nError message: Long running operation failed with error: \"At least one resource deployment operation failed. Please list deployment operations for details. Please see https://aka.ms/DeployOperations for usage details.\".\nDetailed message: \n{\n  \"provisionResources\": {\n    \"azureWebAppBotProvision\": {\n      \"code\": \"InvalidTemplateDeployment\",\n      \"message\": \"The template deployment 'azureWebAppBotProvision' is not valid according to the validation procedure. The tracking id is 'bbd85e59-7e06-479c-83cc-ce6a8e738c1c'. See inner errors for details.\",\n      \"details\": [\n        {\n          \"message\": \"Object reference not set to an instance of an object.\"\n        }\n      ]\n    },\n    \"azureFunctionApiProvision\": {\n      \"code\": \"InvalidTemplateDeployment\",\n      \"message\": \"The template deployment 'azureFunctionApiProvision' is not valid according to the validation procedure. The tracking id is '80691faa-7c46-4bcc-9c02-4a1a7f7ea12d'. See inner errors for details.\",\n      \"details\": [\n        {\n          \"message\": \"Object reference not set to an instance of an object.\"\n        }\n      ]\n    }\n  }\n}\nGet toolkit help from https://aka.ms/teamsfx-arm-help.\n(✖) Get help from https://aka.ms/teamsfx-arm-help#SolutionFailedToDeployArmTemplatesToAzure\n\n    at ChildProcess.exithandler (child_process.js:383:12)\n    at ChildProcess.emit (domain.js:475:12)\n    at maybeClose (internal/child_process.js:1088:16)\n    at Process.ChildProcess._handle.onexit (internal/child_process.js:296:5)",
                  "diff": null
                },
                "uuid": "ad30e91b-3154-4325-a886-1276c3cfd519",
                "parentUUID": "4fc6e80d-02f8-4b1d-81e4-b2e57cfab5e2",
                "isHook": false,
                "skipped": false
              }
            ],
            "suites": [],
            "passes": [],
            "failures": [
              "ad30e91b-3154-4325-a886-1276c3cfd519"
            ],
            "pending": [],
            "skipped": [],
            "duration": 524464,
            "root": false,
            "rootEmpty": false,
            "_timeout": 900000
          }
        ],
        "passes": [],
        "failures": [],
        "pending": [],
        "skipped": [],
        "duration": 0,
        "root": true,
        "rootEmpty": true,
        "_timeout": 900000
      }
    ],
    "meta": {
      "mocha": {
        "version": "9.2.1"
      },
      "mochawesome": {
        "options": {
          "quiet": false,
          "reportFilename": "mochawesome",
          "saveHtml": true,
          "saveJson": true,
          "consoleReporter": "spec",
          "useInlineDiffs": false,
          "code": true
        },
        "version": "7.0.1"
      },
      "marge": {
        "options": null,
        "version": "6.0.1"
      }
    }
  },
  "github": {
    "caseURL": "https://api.github.com/repos/mocha-js/mocha/issues/1401",
    "jobId": "00000001",
    "runId": "00000001",
    "coreVersion": "V1/V2",
    "os": "linux",
    "nodeVersion": "v14",
    "targetType": "TS/JS",
    "slowMethod": 5,
    "duration": 3000,
    "on": "schedule"
  }
}